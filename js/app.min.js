function getChar(t){return null==t.which?t.keyCode<32?null:String.fromCharCode(t.keyCode):0!=t.which&&0!=t.charCode?t.which<32?null:String.fromCharCode(t.which):null}function on(t,n,e){t&&n.split(" ").forEach(function(n){t.addEventListener(n,e)})}function scrollToElement(t){if($(t).length){var n;n=$(t).closest(".popup").length?$(t).closest(".popup"):$(t),n.stop().animate({scrollTop:$(t).position().top},"fast")}}function formatMoney(t,n,e,o){var n=isNaN(n=Math.abs(n))?2:n,e=void 0==e?".":e,o=void 0==o?",":o,i=0>t?"-":"",s=parseInt(t=Math.abs(+t||0).toFixed(n))+"",a=(a=s.length)>3?a%3:0;return i+(a?s.substr(0,a)+o:"")+s.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+o)+(n?e+Math.abs(t-s).toFixed(n).slice(2):"")}function getMax(t){return Math.max.apply(Math,t)}function getMin(t){return Math.min.apply(Math,t)}function is_null(t){return null==t}function is_undefined(t){return"undefined"==typeof t}function is_touch_device(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||"onmsgesturechange"in window}function declOfNum(t,n){return cases=[2,0,1,1,1,2],n[t%100>4&&20>t%100?2:cases[5>t%10?t%10:5]]}function updateCaptcha(t,n){return n.preventDefault(),$(t).length&&$(t).attr("src",$(t).attr("src").split("?")[0]+"?v="+Math.random()),!1}function debounce(t,n,e){var o;return function(){var i=this,s=arguments,a=function(){o=null,e||t.apply(i,s)},r=e&&!o;clearTimeout(o),o=setTimeout(a,n),r&&t.apply(i,s)}}function once(t,n){var e;return function(){return t&&(e=t.apply(n||this,arguments),t=null),e}}function levenshtein(t,n,e){var o,i,s,a,r,l,c,u,f,d,p;s=t.length,a=n.length,e=e||{};var h=e.replace||1,g=e.replaceCase||e.replace||1,m=e.insert||1,v=e.remove||1;p=r=Math.max(s,a);var y=Math.min(v,m,h),b=Math.max(y,(s-a)*v),w=Math.max(y,(a-s)*m),_=new Array(2*p-1);for(o=0;a>=o;++o)_[o]=o*b;for(o=0;s>o;++o,r=p-r)for(l=t[o],c=l.toLowerCase(),_[r]=(o+1)*w,u=r,f=p-r,i=0;a>i;++i,++u,++f)d=l===n[i]?0:c===n[i].toLowerCase()?g:h,_[u+1]=Math.min(_[f+1]+v,_[u]+m,_[f]+d);return _[a+p-r]}function googleMap(){function t(t,n){var e=['<div class="map-content">','<h2 class="firstHeading">'+t.title+"</h2>",'<div class="map-bodyContent">',"<p>"+t.city+"</p>","<p>"+t.street+"</p>","<p><span>Телефон:</span>"+t.phone+"</p>","<p><span>Email:</span>"+t.email+"</p>","</div>","</div>"].join(""),o=new google.maps.InfoWindow({content:e,disableAutoPan:!0,maxWidth:500}),i={url:"./images/map-marker.png",size:new google.maps.Size(18,25),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(18,25),anchor:new google.maps.Point(18,25)},s=new google.maps.Marker({position:new google.maps.LatLng(t.coords[0],t.coords[1]),map:n,icon:i,flat:!0,title:t.title});google.maps.event.addListener(s,"click",function(){o&&o.close(),o.open(n,s)})}var n={moscow:{city:"г. Москва",title:"Москва",street:"Верхняя Масловка, д. 20, стр. 1.",phone:"(495) 645-83-54",email:"info@itsntk.ru",coords:[55.795316,37.562272]},krasnodar:{city:"г. Краснодар",title:"Краснодар",street:"ул. Дальняя, 39/3",phone:"(861) 278-98-34",email:"info@itsntk.ru",coords:[45.060932,38.964575]}},e={zoom:13,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.LEFT_TOP},panControl:!1,panControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!0,draggable:!0,disableDoubleClickZoom:!1,center:new google.maps.LatLng(n.krasnodar.coords[0],n.krasnodar.coords[1])},o=new google.maps.Map(document.getElementById("map-conteiner"),e);for(var i in n)t(n[i],o);$("body").on("click",".js-toggle-class",function(t){var e=($(this).closest(".js-toggle-wrapper"),"");$(this).data("city")&&(e=$(this).data("city"),o.setZoom(13),o.setCenter({lat:n[e].coords[0],lng:n[e].coords[1]}))})}!function(t){"use strict";window.body=t("body"),window._this=null,t.app={initSandwich:function(){this.sandwich.init({keyHooks:!0,selector:".js-sandwich-menu",wrapper:".layout-wrapper",overlay:"#menu-overlay"})},initSelectTrigger:function(){body.on("select.close",function(n,e){if(t(e).closest(".form__group").length){var o=t(e).closest(".form__group");o.css("z-index",1),o.closest(".form__group_items").length&&(o=o.closest(".form__group_items"),o.css("z-index",1))}}),body.on("select.open",function(n,e){if(t(e).closest(".form__group").length){var o=t(e).closest(".form__group");o.css("z-index",1e4),o.closest(".form__group_items").length&&(o=o.closest(".form__group_items"),o.css("z-index",1e4))}}),body.on("change",".js-form-select",function(n){t(this).closest(".error").length&&t(this).closest(".error").removeClass("error")})},initSelect:function(n){"undefined"==typeof n?t("select").not(".is-system").selectbox():n.find("select").not(".is-system").selectbox(),this.initSelectTrigger()},initMask:function(){t(".js-date-watcher").mask("99/99/9999"),t(".js-phone-watcher").mask("+ 7 (999) 999-99-99"),t(".js-cartnumber-watcher").mask("999-999-999")},initPopup:function(){t.popup.init(".js-open-popup",{cssPosition:!1,wrapper:".layout-wrapper"})},initMagnific:function(){t(".zoom-group").length?t(".zoom-group").find(".zoom-list").each(function(){t(this).magnificPopup({delegate:".zoom",type:"image",preloader:!0,gallery:{enabled:!0,navigateByImgClick:!0,tCounter:"%curr% of %total%"},zoom:{enabled:!0,duration:300,easing:"ease-in-out",opener:function(t){return t.is("img")?t:t.find("img")}},closeOnContentClick:!0})}):t(".zoom").magnificPopup({type:"image",preloader:!0,gallery:{enabled:!0},zoom:{enabled:!0,duration:300,easing:"ease-in-out",opener:function(t){return t.is("img")?t:t.find("img")}},closeOnContentClick:!0})},slickCarousel:function(){if(t(".js-carousel").length&&t(".js-carousel").find(".slick-slide").length){var n=4,e="carousel";t(".js-carousel").each(function(){n=4,e="carousel",t(this).data("viewcount")&&(n=parseInt(t(this).data("viewcount"))),t(this).data("classname")&&(e=t(this).data("classname")),t(this).slick({infinite:!0,dots:!1,draggable:!0,speed:170,slidesToShow:n,slidesToScroll:1,prevArrow:'<button type="button" class="'+e+"__navigation "+e+'__navigation_prev slick-prev"></button>',nextArrow:'<button type="button" class="'+e+"__navigation "+e+'__navigation_next slick-next"></button>',responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})})}},slickSlider:function(){if(t(".js-slider").length&&t(".js-slider").find(".slick-slide").length){var n=1,e="slider",o="",i=t(window).width(),s={};t(".js-slider").each(function(){n=1,e="slider",s={infinite:!0,dots:!1,draggable:!1,speed:300,fade:!1,autoplay:!0,autoplaySpeed:4500,pauseOnHover:!1,useTransform:!1,variableWidth:!0,cssEase:"ease"},o=t(this),o.hasClass("js-slider-calc")&&o.find(".slick-slide").css({width:i+"px"}),o.hasClass("js-disable-navigation")?s.arrows=!1:(s.prevArrow='<button type="button" class="slider__navigation slider__navigation_prev slick-prev"></button>',s.nextArrow='<button type="button" class="slider__navigation slider__navigation_next slick-next"></button>'),o.slick(s)})}},disableHover:function(){var t;window.addEventListener("scroll",function(){clearTimeout(t),body.hasClass("disable-hover")||body.addClass("disable-hover"),t=setTimeout(function(){body.removeClass("disable-hover")},500)},!1)},initTooltip:function(){var n,e;body.on("click",function(n){t(n.target).hasClass("tooltip")||t(n.target).hasClass("js-tooltip")||!t(".tooltip.show").length||(t(".tooltip.show").removeClass("animate"),setTimeout(function(){t(".tooltip.show").removeClass("show")},300))}),body.on("click",".js-tooltip",function(o){if(o.preventDefault(),e=t(this),(e.data("tooltip")||e.find(".tooltip").length)&&!t(o.target).hasClass("tooltip")){if(n=e.data("tooltip"),!e.find(".tooltip").length){var i=document.createElement("span");i.className="tooltip",i.innerHTML=n,e.append(i)}e.find(".tooltip").hasClass("show")?(e.find(".tooltip").removeClass("animate"),setTimeout(function(){e.find(".tooltip").removeClass("show")},200)):(e.find(".tooltip").addClass("show"),setTimeout(function(){e.find(".tooltip").addClass("animate")},10))}})},toggle:function(){var n,e,o,i;t(".js-toggle-trigger").each(function(){t(t(this).data("toggle")).length&&(n=t(this).data("toggle"),i=t(this),e=t(n),body.on("click",function(s){o=t(s.target),o.closest(n).length||o.closest(".js-toggle-trigger").length||!e.hasClass("active")||(i.removeClass("animate"),e.removeClass("transform"),setTimeout(function(){e.removeClass("active")},135))}))}),body.on("click",".js-toggle-trigger",function(n){n.preventDefault(),t(this).data("toggle")&&(e=t(t(this).data("toggle")),i=t(this),e.length&&(e.hasClass("active")?(i.removeClass("animate"),e.removeClass("transform"),setTimeout(function(){e.removeClass("active")},135)):(i.addClass("animate"),e.addClass("active"),setTimeout(function(){e.addClass("transform")},5))))})},findJumpElement:function(n){return n=n.substr(1),t('a[name="'+n+'"]').length?t('a[name="'+n+'"]').eq(0):t("#"+n).length?t("#"+n).eq(0):t('.screen[data-screen="'+n+'"]').length?t('.screen[data-screen="'+n+'"]').eq(0):null},hashJump:function(){_this=this;var n=null;if(window.location.hash){var e=window.location.hash;n=_this.findJumpElement(e+"-anchor"),null!==n&&$scrollWrapper.stop().animate({scrollTop:n.offset().top+25+"px"},"fast")}body.on("click",".j-jumpto",function(e){t(this).data("anchor")?n=_this.findJumpElement(t(this).data("anchor")):t(this).attr("href")&&(n=_this.findJumpElement(t(this).attr("href"))),null!==n&&($scrollWrapper.stop().animate({scrollTop:n.offset().top+"px"},"medium"),t(this).hasClass("j-navigation")&&(t("#navigation").find(".current").removeClass("current"),t(this).addClass("current")))})},updateImage:function(){body.on("click",".js-update-image",function(n){n.preventDefault(),t(this).find("img").attr("src",t(this).find("img").attr("src").split("?")[0]+"?u="+Math.random())})},zoomit:function(){var n,e,o;body.on("click",".js-zoom-image",function(i){return i.preventDefault(),o=t(this).attr("href"),t(this).closest(".js-zoom-wrapper").length&&(n=t(this).closest(".js-zoom-wrapper"),n.find(".js-zoom-holder").length&&(e=n.find(".js-zoom-holder"),e.html(""),n.find(".current").removeClass("current"),e.html('<img src="'+o+'" alt="">'),t(this).addClass("current"))),!1})},suggestionsInit:function(){var n="5ac2fbf1f640b75b78f5d4214ff005ff5303eac8",e=null;t(".js-suggestions").length&&t(".js-suggestions").each(function(){e=t(this),e.data("type")&&e.suggestions({serviceUrl:"https://dadata.ru/api/v2",token:n,type:e.data("type"),count:5,onSelect:function(t){console.log(t)}})})},initForm:function(){body.on("focus","input.error",function(){t(this).removeClass("error")}),t(".integer").on("keypress",function(t){return[0,8,13,38,40].indexOf(t.which)<0&&(t.which<48||t.which>57)?!1:void 0}),t(".ignore-paste").on("keydown",function(t){return(t.metaKey||t.ctrlKey)&&86==t.keyCode?!1:void 0}),t(".float").on("keypress",function(t){return[0,8,13,38,40,44,46].indexOf(t.which)<0&&(t.which<48||t.which>57)?!1:void 0})},initAccordion:function(){body.on("click",".j-toggle-accordion",function(n){n.preventDefault();var e=t(this).closest(".j-toggle-item");t(this).toggleClass("current"),e.find(".j-toggle-list").eq(0).toggleClass("open")})},init:function(){this.disableHover(),this.initPopup(),this.initMask(),this.slickSlider(),this.initAccordion(),this.initMagnific()}}}(jQuery),function(t){"use strict";t.app=t.app||{};var n=t("body"),e=null;t.app.ajaxForm={config:{form_class:".form-ajax",form_reset:"form-reset",form_button:".j-form-button",link_class:".js-request-link",error_class:"error",error_message:"form__error-message",form_label:".form__wrapper",checkbox_label:"checkbox__label"},callback_stack:{},extend:function(t){if(e=this,"undefined"!=typeof t){var n;for(n in t)"undefined"!=typeof e.config[n]&&(e.config[n]=t[n])}},default_handler:function(n,o){e=this,o.status?o.hasOwnProperty("redirect_url")&&(window.location.href=o.redirect_url):o.errors&&e.validation(n,o.errors),o.hasOwnProperty("message")&&t.popup.message(o.title,o.message)},upload:function(){e=this,n.on("submit",".form-file-upload",function(t){return AIM.submit(this,{onStart:function(){},onComplete:function(t){"object"==typeof t&&t.status===!0&&t.hasOwnProperty("photo_url")}})}),t(document).on("change",".upload_button_onchange",function(){t(this).closest(".upload_button").find(".upload_button_field").length>0&&t(this).closest(".upload_button").find(".upload_button_field").html(t(this).val())})},validation:function(t,n){e=this,t.find("."+e.config.error_class).removeClass(e.config.error_class),t.find("."+e.config.error_message).remove();var o,i;setTimeout(function(){if(n)for(o in n)t.find('input[name="'+o+'"]').length>0&&(i=t.find('input[name="'+o+'"]')),t.find('select[name="'+o+'"]').length>0&&(i=t.find('select[name="'+o+'"]')),t.find('textarea[name="'+o+'"]').length>0&&(i=t.find('textarea[name="'+o+'"]')),i.closest("."+e.config.checkbox_label).length>0&&(i=i.closest("."+e.config.checkbox_label)),"undefined"!=typeof i&&(i.addClass(e.config.error_class),i.closest(e.config.form_label).append('<div class="'+e.config.error_message+'">'+n[o]+"</div>"))},10)},send:function(n,e,o,i,s){"function"!=typeof i&&(i=function(){}),"function"!=typeof s&&(s=function(){});try{t.ajax({url:n,type:e,data:o,contentType:!1,processData:"get"==e.toLowerCase(),success:i,error:s,dataType:"JSON"})}catch(a){}},initLink:function(){e=this,n.on("click",e.config.link_class,function(n){n.preventDefault?n.preventDefault():n.returnValue=!1;var o=t(this);if(!o.data("is-busy")){o.data("is-busy",!0);var i=t(this).attr("href")||t(this).data("action"),s=t(this).data("method")||"get",a={};e.send(i,s,a,function(t){o.data("callback")&&e.callback_stack.hasOwnProperty(o.data("callback"))?e.callback_stack[o.data("callback")](o,t):e.default_handler(o,t),t.status===!0,o.data("is-busy",!1)},function(t){e.default_handler(o,t),o.data("is-busy",!1)})}})},initForm:function(){e=this,n.on("submit",e.config.form_class,function(n){n.preventDefault?n.preventDefault():n.returnValue=!1;var o=t(this),i=o.attr("action"),s=o.attr("method")||"post",a=window.FormData?new FormData(o[0]):o.serialize();if(!o.data("is-busy")){if(o.data("is-busy",!0),o.find(e.config.form_button).length)var r=o.find(e.config.form_button);return"undefined"!=typeof r&&(r.data("loading")&&(r.data("original",r.text()),r.text(r.data("loading"))),r.addClass("preload")),o.data("precallback")&&e.callback_stack.hasOwnProperty(o.data("precallback"))&&!e.callback_stack[o.data("precallback")](o)?!1:void e.send(i,s,a,function(t){o.data("callback")&&e.callback_stack.hasOwnProperty(o.data("callback"))?e.callback_stack[o.data("callback")](o,t):e.default_handler(o,t),o.hasClass(e.config.form_reset)&&(o.find("."+e.config.error_class).removeClass(e.config.error_class),o.get(0).reset()),t.status===!0,"undefined"!=typeof r&&(r.data("original")&&r.text(r.data("original")),r.removeClass("preload")),o.data("is-busy",!1)},function(t){e.default_handler(o,t),o.data("is-busy",!1)})}})},initValidate:function(){n.on("focus",".form__input.error, .form__textarea.error",function(){t(this).removeClass("error")})},init:function(t){"undefined"!=typeof t&&this.extend(t),this.initForm(),this.initLink(),this.initValidate()}}}(jQuery),function(t){"use strict";t.app=t.app||{};var n;t.app.sandwich={config:{keyHooks:!1,selector:".js-sandwich-menu",wrapper:".layout-wrapper",overlay:".overlay"},extend:function(t){if(n=this,"undefined"!=typeof t){var e;for(e in t)"undefined"!=typeof n.config[e]&&(n.config[e]=t[e])}},isOpen:function(){return body.hasClass("page-visible")},hide:function(){body.removeClass("page-open"),setTimeout(function(){body.removeClass("page-visible")},10),t(this.config.overlay).css({visibility:"hidden"})},toggle:function(){body.hasClass("page-visible")?setTimeout(function(){body.removeClass("page-visible")},10):setTimeout(function(){body.addClass("page-visible")},10),body.toggleClass("page-open");var e="visible";body.hasClass("page-open")||(e="hidden"),t(n.config.overlay).css({visibility:e})},sandwichTrigger:function(){n=this,n.config.keyHooks&&body.on("keydown",function(t){27==t.keyCode&&n.isOpen()&&n.toggle()}),body.on("click",n.config.selector,function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,n.toggle()})},overlayTrigger:function(){n=this,body.on("click",n.config.overlay,function(t){n.hide()})},init:function(t){this.extend(t),this.sandwichTrigger(),this.overlayTrigger()}}}(jQuery),function(t){"use strict";t.app=t.app||{};var n,e,o;t("body");t.app.stick={config:{delay:10,element:".js-stick"},cache:[],calc:function(){n=this,t(n.config.element).length&&t(n.config.element).map(function(e){t(this).addClass("js-stick-"+e),n.cache[e]=t(this).offset().top})},check:function(){n=this,e=t(window).scrollTop();var o,i;for(o in n.cache)i=t(".js-stick-"+o),e>=n.cache[o]?i.hasClass("sticked")||i.addClass("sticked"):i.hasClass("sticked")&&i.removeClass("sticked")},initScroll:function(){n=this,t(window).on("scroll",function(t){clearTimeout(o),o=setTimeout(function(){n.check()},n.config.delay)})},init:function(){this.calc(),this.check(),this.initScroll()}}}(jQuery),function(t){"use strict";t.app=t.app||{},t.app.tabs={config:{mouseevent:"click",attribute:"href",animation:!1,autorotate:!1,pauseonhover:!0,delay:2e3,active:1,container:!1,controls:{prev:".prev",next:".next"}},extend:function(t){if(_this=this,"undefined"!=typeof t){var n;for(n in t)"undefined"!=typeof _this.config[n]&&(_this.config[n]=t[n])}},init:function(t){this.extend(t)}}}(jQuery);var tools={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t},isNumber:function(t){return"number"==typeof t},isUndefined:function(t){return"undefined"==typeof t},isDefined:function(t){return"undefined"!=typeof t},isNull:function(t){return null==t}},shuffle=function(t){return t.sort(function(){return Math.random()-.5})},getAbsoluteUrl=function(){var t;return function(n){return t||(t=document.createElement("a")),t.href=n,t.href}}();!function(t){"use strict";t.navigation={options:{menu:"",link:"",anchor:"",currentClass:"",menuHeight:0,lastId:"",scrollItems:[],menuItems:[],menuPosition:0},change:function(n){n+=t.navigation.options.menuHeight;var e=t.navigation.options.scrollItems.map(function(){return t(this).offset().top<n?this:void 0});e=e[e.length-1];var o=e&&e.length?e[0].id:"";if(t.navigation.options.lastId!==o){var i=o.replace(t.navigation.options.anchor,""),s=t.navigation.options.menuItems.filter('[href="#'+i+'"]');t.navigation.options.lastId=o,t.navigation.options.menuItems.removeClass(t.navigation.options.currentClass),s.addClass(t.navigation.options.currentClass),location.hash=i}},calc:function(){var n;t.navigation.options.scrollItems=t.navigation.options.menuItems.map(function(){return n=t(this.hash+t.navigation.options.anchor),n.length?n:void 0})},scrollSection:function(n,e){n+=t.navigation.options.anchor;var o=t(n);if(o.length){var i=o.offset().top-15;e?t("html,body").stop().animate({scrollTop:i},"fast","easeInOutCirc"):t("html,body").scrollTop(i)}},init:function(n){t.navigation.options=t.extend(n);var e=t(t.navigation.options.menu);e.length&&(t.navigation.options.menuHeight=e.outerHeight(),t.navigation.options.menuItems=t(t.navigation.options.link),t.navigation.options.menuPosition=e.position().top,t.navigation.calc(),t.navigation.options.menuItems.on("click",function(n){t.navigation.scrollSection(this.hash,!0)}),t.navigation.change(t(document).scrollTop()),t(window).scroll(function(){t.navigation.change(t(document).scrollTop())}),t(window).resize(function(){t.navigation.calc()}),setTimeout(function(){window.location.hash.length>1&&t.navigation.scrollSection(window.location.hash,!1)},150))}},t.navigation.init({menu:"#navigation",link:".j-navigation",anchor:"-anchor",currentClass:"current"})}(jQuery),function(t,n,e){"use strict";var o,i=0,s=t(n).height();t.fn.viewport=function(e){e=t.extend({},t.fn.viewport.options,e),t.fn.viewport.options.items=this,t.fn.viewport.options.elements.length||t.fn.viewport.calculate(),t.fn.viewport.options.elements.length&&t.fn.viewport.animate(),t(n).scroll(function(){t.fn.viewport.animate()}),t(n).resize(function(){t.fn.viewport.calculate()})},t.fn.viewport.options={items:{},elements:{}},t.fn.viewport.calculate=function(){t.fn.viewport.options.elements=t.fn.viewport.options.items.map(function(){return t(this).length?t(this):void 0})},t.fn.viewport.animate=function(){o=t(n).scrollTop(),t.fn.viewport.options.elements.map(function(){i=o+s,t(this).offset().top<=i&&!t(this).hasClass("active")&&t(this).addClass("active")})}}(jQuery,window,document),$(document).ready(function(){$.app.init()});